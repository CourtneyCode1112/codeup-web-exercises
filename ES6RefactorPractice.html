<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>ES6 Refactor</title>

    <link
            href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
            crossorigin="anonymous">

</head>
<body>

<main class="container">

    <h1>ES6 Refactor</h1>

    <h3>Top 3 Favorite Movies</h3>

    <div id="favMovies">
        <ol>
            <li class="movie"></li>
            <hr>
            <li class="movie"></li>
            <hr>
            <li class="movie"></li>
        </ol>
    </div>

    <button id="showBtn" class="btn btn-primary">Show Movies</button>

</main>

<script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>

<script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

<script>

    // This script works fine but let's update the JS!
    // TODO: REFACTOR AS MANY PARTS OF THIS SCRIPT FROM ES5 TO ES6 SYNTAX AS POSSIBLE

    (function() {

        "use strict";

        let showBtn = document.getElementById("showBtn");

        var movies = [
            {
                name: "LOTR",
                year: "2001",
                genre: "Fantasy"
            },
            {
                name: "The Matrix",
                year: "1999",
                genre: "Sci-Fi"
            },
            {
                name: "Shine",
                year: "1996",
                genre: "Drama"
            }
        ];



        //


        // var buildMovieHTML = function (movie) {
        //     var html = "";
        //     html += '<ul><li>' + movie.name;
        //     html +=  '</li><li>' + movie.year;
        //     html += '</li><li>' + movie.genre + '</li></ul>';
        //     return html;
        // }

        // object destructuring
        // arrow function
        const buildMovieHTML = ({ name, year, genre }) => {
            return `<ul><li>${name}</li><li>${year}</li><li>${genre}</li></ul>`;
        };


        // var addHTMLToPage = function (movies) {
        //     var movieItems = document.getElementsByClassName('movie');
        //     for (var i = 0; i < movies.length; i += 1) {
        //         movieItems[i].innerHTML = buildMovieHTML(movies[i]);
        //     }
        // }

        // arrow function
        // for ... of loop
        const addHTMLToPage = (movies) => {
            const listItems = document.getElementsByClassName('movie');
            let i = 0;
            for (let listItem of listItems) {
                listItem.innerHTML = buildMovieHTML(movies[i]);
                ++i;
            }
        };

        // showBtn.addEventListener("click", function() {
        //     addHTMLToPage(movies);
        // });

    showBtn.addEventListener("click", () => {
        addHTMLToPage(movies);
    })

    })();


    // ================================= Map, Filter, Reduce
    //
    // -- Array.map()
    //
    // Great creating a new array with changed values.
    //
    //     Example:
    //
    // const names = ['justin', 'ViVIAN', 'boB', 'DANIEL', 'tRant'];
    // const convertToTitleCase = str => str[0].toUpperCase() + str.substring(1).toLowerCase();
    // const output = names.map(convertToTitleCase);
    // console.log(output); // ['Justin', Vivian', 'Bob', 'Daniel', 'Trant'];
    //
    //
    // -- Array.filter()

    // Great for removing elements in an array that fail a given test.
    //
    //     Example:
    //
    // const names = ['Justin', 'Vivian', 'Bob', 'Daniel', 'Trant'];
    // const output = names.filter(name => name !== 'Bob'); // filter out 'Bob'
    // console.log(output); // ['Justin', 'Vivian', 'Daniel', 'Trant']
    //
    // -- Array.reduce()
    //
    // Great for combining the values of an array together in some way to create data of any type.
    //
    //     Example 1:
    //
    // const names = ['Justin', 'Vivian', 'Daniel', 'Trant'];
    // const output = names.reduce((greeting, name) => greeting += `${name}, `, 'Welcome: ').slice(0, -2);
    // console.log(output); // "Welcome Justin, Vivian, Daniel, Trant"
    //
    // -- ULTRA COMBO!!!!!
    //
    // const names = ['justin', 'ViVIAN', 'boB', 'DANIEL', 'tRant'];
    // const convertToTitleCase = str => str[0].toUpperCase() + str.substring(1).toLowerCase();
    // const output = names.map(convertToTitleCase)
    //     .filter(name => name !== 'Bob')
    //     .reduce((greeting, name) => greeting += `${name}, `, 'Welcome: ').slice(0, -2);
    // console.log(output);

    // TODO: Given the following array, complete the todos...

    const dogs = [
        {
            name: 'bubbles',
            age: 10,
            isTrained: false
        },
        {
            name: 'lexie',
            age: 3,
            isTrained: true
        },
        {
            name: 'doggy',
            age: 5,
            isTrained: false
        }
    ];

    // TODO: using map, create a new array of dog names from the dogs array
    // const convertToTitleCase = str => str[0].toUpperCase() + str.substring(1).toLowerCase();
    // const output = names.map(convertToTitleCase);

    // const mapMethodOutput = arr.map(function(element) {
    //     return element + 1;
    // });
    //

    // const dogNames = dogs.map(function(dogName) {
    //     return dogName.name
    // })
    // console.log(dogNames);

    const dogNames = dogs.map(({ name }) => name)
    console.log(dogNames);

    // TODO: using map, create a new array of dog ages from the dogs array

    const dogAges = dogs.map(({ age }) => age)
    console.log(dogAges);

    // TODO: using map, create a new array of dog objects from the dogs array that only have name and age property values

    const dogNamesAges = dogs.map(({ name, age }) => ({ name, age}))
    console.log(dogNamesAges);


</script>

</body>
